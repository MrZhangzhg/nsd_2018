常见的web框架：django/tornado/flask
django：功能强大，组件齐全
tornado：小型web框架
flask：微型

路由系统URLConfig负责把URL与视图函数关联

python的虚拟环境：隔离的资源目录
1、新建虚拟环境
[root@room8pc16 ftp]# python3 -m venv /opt/djenv/
2、激活虚拟环境
[root@room8pc16 ftp]# source /opt/djenv/bin/activate
(djenv) [root@room8pc16 ftp]# which python
/opt/djenv/bin/python
(djenv) [root@room8pc16 ftp]# python --version
3、在虚拟环境下安装django
(djenv) [root@room8pc16 zzg_pypkgs]# cd dj_pkgs/
(djenv) [root@room8pc16 dj_pkgs]# pip install *
4、查看django
(djenv) [root@room8pc16 dj_pkgs]# python
>>> import django
>>> django.__version__
'1.11.6'
5、安装其他软件
(djenv) [root@room8pc16 zzg_pypkgs]# cd ansible_pkg/
(djenv) [root@room8pc16 ansible_pkg]# pip install *
(djenv) [root@room8pc16 zzg_pypkgs]# cd ansible-cmdb_pkgs/
(djenv) [root@room8pc16 ansible-cmdb_pkgs]# pip install *
(djenv) [root@room8pc16 zzg_pypkgs]# cd pymysql_pkgs/
(djenv) [root@room8pc16 pymysql_pkgs]# pip install *
(djenv) [root@room8pc16 zzg_pypkgs]# cd sqlalchemy_pkgs/
(djenv) [root@room8pc16 sqlalchemy_pkgs]# pip install *



配置django
1、创建名为mysite的项目
(djenv) [root@room8pc16 day04]# django-admin startproject mysite
(djenv) [root@room8pc16 day04]# cd mysite/
(djenv) [root@room8pc16 mysite]# tree .
.
├── manage.py        # 用于项目管理
└── mysite           # 项目配置目录
    ├── __init__.py  # py2必须的文件，将目录变成包
    ├── settings.py  # 项目配置文件
    ├── urls.py      # 路由系统文件，程序入口
    └── wsgi.py      # 用于发布项目
2、启动测试服务器，查看页面
(djenv) [root@room8pc16 mysite]# python manage.py runserver
访问http://127.0.0.1:8000/查看效果

3、配置django
# mysite/settings.py
ALLOWED_HOSTS = '*'    # ACL访问控制
MIDDLEWARE = [
    ... ...
    # 'django.middleware.csrf.CsrfViewMiddleware',
    ... ...
]
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'dj1808',
        'USER': 'root',
        'PASSWORD': 'tedu.cn',
        'HOST': '127.0.0.1',
        'PORT': '3306',
    }
}
LANGUAGE_CODE = 'zh-hans'   # 中文
TIME_ZONE = 'Asia/Shanghai'
USE_TZ = False
4、创建mysql数据库
[root@room8pc16 ~]# mysql -uroot -ptedu.cn
MariaDB [(none)]> CREATE DATABASE dj1808 DEFAULT CHARSET utf8;
5、启动测试服务器如果出现以下异常
MySQLdb module: No module named 'MySQLdb'
是因为django连接mysql数据库时，使用的模块是MySQLdb，这个模块不支持py3。py3
中使用手是pymysql模块，所以要做以下改动
# vim mysite/__init__.py
import pymysql
pymysql.install_as_MySQLdb()
6、启动测试服务器，让它运行在所有地址的80端口
(djenv) [root@room8pc16 mysite]# python manage.py runserver 0:80
访问http://127.0.0.1













